<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="ch.unibas.dmi.dbis.cs108.client.ui.controllers.MainMenuController"
            fx:id="mainMenuRoot"
            styleClass="main-menu-background"
            stylesheets="/css/main-menu.css"
            prefWidth="1024" prefHeight="768">

    <center>
        <StackPane>
            <VBox alignment="CENTER" spacing="20.0">
                <padding>
                    <Insets top="30.0" right="30.0" bottom="30.0" left="30.0"/>
                </padding>

                <!-- Game Logo/Title -->
                <ImageView fx:id="gameLogo" fitWidth="300.0" preserveRatio="true"
                           cache="true" smooth="true"/>

                <Label text="Settlers of Asgard" styleClass="game-title">
                    <font>
                        <Font name="System Bold" size="36.0"/>
                    </font>
                </Label>

                <!-- Menu Buttons -->
                <VBox spacing="15.0" alignment="CENTER" maxWidth="300.0">
                    <Button fx:id="playButton" text="Play Game" onAction="#handlePlayGame"
                            styleClass="menu-button" maxWidth="Infinity"
                            focusTraversable="true" defaultButton="true"/>

                    <Button fx:id="settingsButton" text="Settings" onAction="#handleSettings"
                            styleClass="menu-button" maxWidth="Infinity"/>

                    <Button fx:id="aboutButton" text="About" onAction="#handleAbout"
                            styleClass="menu-button" maxWidth="Infinity"/>

                    <Button fx:id="exitButton" text="Exit" onAction="#handleExit"
                            styleClass="menu-button" maxWidth="Infinity"
                            cancelButton="true"/>
                </VBox>
            </VBox>
        </StackPane>
    </center>

    <!-- Global Chat Panel -->
    <right>
        <VBox spacing="10" styleClass="chat-panel" prefWidth="300.0" minWidth="200.0">
            <padding>
                <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
            </padding>

            <Label text="Global Chat" styleClass="section-header"/>

            <ListView fx:id="globalChatMessages" VBox.vgrow="ALWAYS" styleClass="chat-list">
                <placeholder>
                    <Label text="No messages yet" styleClass="placeholder-label"/>
                </placeholder>
            </ListView>

            <HBox spacing="8.0" alignment="CENTER">
                <TextField fx:id="globalChatInput" promptText="Type a message..."
                           HBox.hgrow="ALWAYS" onAction="#handleSendGlobalMessage"/>
                <Button fx:id="sendButton" text="Send" onAction="#handleSendGlobalMessage"
                        styleClass="send-button" minWidth="60"/>
            </HBox>

            <HBox alignment="CENTER_RIGHT">
                <Label fx:id="onlineUsersLabel" text="Online: 0" styleClass="online-users-label"/>
            </HBox>
        </VBox>
    </right>

    <bottom>
        <HBox alignment="CENTER_RIGHT" spacing="10.0" styleClass="footer">
            <padding>
                <Insets top="10.0" right="20.0" bottom="10.0" left="20.0"/>
            </padding>
            <HBox HBox.hgrow="ALWAYS">
                <Label fx:id="connectionStatus" text="Connected" styleClass="status-label"/>
            </HBox>
            <Label fx:id="versionLabel" text="Version 1.0" styleClass="version-label"/>
        </HBox>
    </bottom>
</BorderPane>
